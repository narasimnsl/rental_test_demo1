(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{124:function(e,t,a){e.exports={rentTable:"table__rentTable__gTEul"}},128:function(e,t,a){e.exports=a(291)},133:function(e,t,a){},135:function(e,t,a){},291:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(21),o=a.n(l),i=(a(133),a(29)),c=a(30),u=a(35),s=a(31),d=a(36),m=(a(135),a(292)),p=function(e){return e.children},h=a(43),b=a.n(h),y=function(e){return r.a.createElement(p,null,r.a.createElement("div",{className:b.a.moduleWrapper},r.a.createElement("div",{className:b.a.moduleContainer},r.a.createElement("div",{className:b.a.HeaderContainer},r.a.createElement("div",{className:"HeaderTiltle"},r.a.createElement("h2",null,"Rent Payments History"))),r.a.createElement("div",{className:b.a.contentContainer},e.children))))},v=a(293),E=a(79),f=a.n(E),D=a(34),_=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={inputVal:"",validateError:"er0"},a.submitBtnHandler=function(){""===a.state.inputVal?a.setState({validateError:"er2"}):a.props.history.push("/report"),a.props.dispatch({type:"UPDATE_ID",value:a.state.inputVal})},a.validateNumber=function(e){""===e.target.value||/^[0-9\b]+$/.test(e.target.value)?(a.setState({inputVal:e.target.value}),a.setState({validateError:""})):a.setState({validateError:"er1"})},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e="";switch(this.state.validateError){case"er0":e="Note: You id is the Numerical Id provided in the rental agreement.";break;case"er1":e="Your ID must be Numeric only";break;case"er2":e="Please Enter Valid ID";break;default:e=""}return r.a.createElement(p,null,r.a.createElement("div",null,r.a.createElement("h2",null,"Welcome to the Rental History Portal"),r.a.createElement("p",null,"To know your upcoming rent payments key in your ",r.a.createElement("strong",null,"ID")," and click ",r.a.createElement("strong",null,"submit")),r.a.createElement("br",null),r.a.createElement("center",null,r.a.createElement("input",{autoFocus:!0,maxLength:10,value:this.state.inputVal,onChange:this.validateNumber,type:"text"}),r.a.createElement("p",{className:f.a.instructionText},e),r.a.createElement("button",{className:f.a.submitButton,onClick:this.submitBtnHandler},"Submit"))))}}]),t}(n.Component),g=Object(D.b)(function(e){return{introState:e.id_val}})(_),k=a(120),w=a.n(k),O=function(e){var t="";switch(e.getDate()){case 1:t="st";break;case 2:t="nd";break;case 3:t="rd";break;default:t="th"}return["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()]+", "+e.getDate()+t+" "+e.getFullYear()},j=a(126),x=a(124),T=a.n(x),N=function(e){var t=new Date(e.rentVals.start_date),a=new Date(e.rentVals.end_date),n=[],l=0;switch(e.rentVals.frequency){case"weekly":l=7;break;case"fortnightly":l=14;break;case"monthly":l=28;break;default:l=14}var o=0;switch(e.rentVals.payment_day){case"monday":o=1;break;case"tuesday":o=2;break;case"wednesday":o=3;break;case"thursday":o=4;break;case"friday":o=5;break;default:o=1}var i=e.rentVals.rent/7,c=O(t),u=0;u=t.getDay()<o?o-t.getDay():7-t.getDay()+o,t.setDate(t.getDate()+(u-1));u.length;n.push({From:c,To:O(t),Days:u,Rent:"$"+(u*i).toFixed(1)});for(var s="";t<a;){t.setDate(t.getDate()+1);var d=O(t);if(t.setDate(t.getDate()+(l-1)),t>a)break;s=new Date(t.valueOf()),n.push({From:d,To:O(t),Days:l,Rent:"$"+(l*i).toFixed(1)})}var m=a.getDate()-s.getDate();m>0&&(s.setDate(s.getDate()+1),n.push({From:O(s),To:O(a),Days:m,Rent:"$"+(m*i).toFixed(1)}));return r.a.createElement("div",null,r.a.createElement(j.a,{columns:[{title:"From",dataIndex:"From",key:"From"},{title:"To",dataIndex:"To",key:"To"},{title:"Days",dataIndex:"Days",key:"Days"},{title:"Rent",dataIndex:"Rent",key:"Rent"}],data:n,className:T.a.rentTable}))},C=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={rentData:{},dataLoaded:!1},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t="https://hiring-task-api.herokuapp.com/v1/leases/"+this.props.idVal;w.a.get(t).then(function(t){e.setState({rentData:t.data,dataLoaded:!0})})}},{key:"render",value:function(){var e="";return this.state.dataLoaded&&(e=r.a.createElement(N,{rentVals:this.state.rentData}),console.log(this.state.rentData)),r.a.createElement(p,null,r.a.createElement("div",null,r.a.createElement("p",null,"Your ID:",this.state.rentData.id),r.a.createElement("p",null,"Please find below your ",r.a.createElement("strong",null,"Rent Payments History")),e))}}]),t}(n.Component),V=Object(D.b)(function(e){return{idVal:e.id_val}})(C),F=function(e){return r.a.createElement(p,null,r.a.createElement(y,null,r.a.createElement(v.a,{path:"/",exact:!0,component:g}),r.a.createElement(v.a,{path:"/report",exact:!0,component:V})))},I=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(m.a,null,r.a.createElement(F,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var H=a(53),R={id_val:""},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;return"UPDATE_ID"===t.type?{id_val:t.value}:e},P=Object(H.b)(S);o.a.render(r.a.createElement(D.a,{store:P},r.a.createElement(I,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},43:function(e,t,a){e.exports={moduleWrapper:"layout__moduleWrapper___FrTl",moduleContainer:"layout__moduleContainer__1vx6n",HeaderContainer:"layout__HeaderContainer__3NQ4_",contentContainer:"layout__contentContainer__2f9wH"}},79:function(e,t,a){e.exports={submitButton:"intro__submitButton__IPjwm",instructionText:"intro__instructionText__2OMiS"}}},[[128,2,1]]]);
//# sourceMappingURL=main.a1e3ee4b.chunk.js.map